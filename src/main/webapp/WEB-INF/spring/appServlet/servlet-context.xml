<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:context="http://www.springframework.org/schema/context"
             xmlns:aop="http://www.springframework.org/schema/aop"
             xsi:schemaLocation="http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd
		http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd">

    <!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure -->

    <!-- Enables the Spring MVC @Controller programming model -->
    <annotation-driven />
    <context:property-placeholder location="classpath:*.properties" file-encoding="UTF-8"/>
    <!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory -->
    <resources mapping="/resources/**" location="/resources/"/>

    <!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory -->
    <beans:bean class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <beans:property name="prefix" value="/WEB-INF/views/"/>
        <beans:property name="suffix" value=".jsp"/>
    </beans:bean>

    <context:component-scan base-package="com.kh"/>
    <aop:aspectj-autoproxy/>


    <interceptors>
        <interceptor>
            <mapping path="/teamEnrollForm.tm"/> <!-- 구단 창설 폼으로 이동 -->
            <mapping path="/myPageInfo.mp" />
            <mapping path="/createMove.bd" />
            <mapping path="/writeReply.bd" />
            <mapping path="/deleteComm.bd" />
            <mapping path="/boardLike.bd" />
            <mapping path="/boardReport.bd" />
            <mapping path="/replyComment.bd" />
            <mapping path="/myMatch.mp" />
            <mapping path="/myMatchInfo.mp" />
            <beans:bean class="com.kh.sportsmate.common.intercepter.LoginInterceptor" id="LoginIntercepter"/>
        </interceptor>
		
		<interceptor>
            <mapping path="/boardList.tm" />
            <mapping path="/createBd.tm" />
            <mapping path="/modify.tm" />
            <mapping path="/delete.tm" />
            <mapping path="/searchBoard.tm" />
            <mapping path="/teamSelfOut.tm" />
            <mapping path="/voting.tm" />
            <mapping path="/teamMatch.tm" />
            <beans:bean class="com.kh.sportsmate.common.intercepter.TeamInterceptor" id="TeamInterceptor"/>
        </interceptor>
		        
        <!-- 구단장 관련 -->
		<interceptor>
			<mapping path="/approveJoin.tm" />
			<mapping path="/rejectJoin.tm" />
			<mapping path="/teamManagement.tm" />
			<mapping path="/teamModify.tm" />
			<mapping path="/teamMemberModify.tm" />
			<mapping path="/teamOut.tm" />
			<mapping path="/teamInfoModify.tm" />
			<mapping path="/teamClosing.tm" />
			<beans:bean class="com.kh.sportsmate.common.intercepter.TeamLeaderInterceptor" id="TeamLeaderInterceptor" />
		</interceptor>
		
		<!-- 구단 게시글 인터셉터 -->
		<interceptor>
			<mapping path="/detailMoveBd.tm" />
			<mapping path="/writeReply.tm" />
			<mapping path="/boardLike.tm" />
			<mapping path="/replyComment.tm" />
			<beans:bean class="com.kh.sportsmate.common.intercepter.TeamBoardInterceptor" id="TeamBoardInterceptor" />
		</interceptor>
		
		<!-- 게시글 소유지 확인 -->
		<interceptor>
			<mapping path="/modify.bd" />
			<mapping path="/delete.bd" />
			<beans:bean class="com.kh.sportsmate.common.intercepter.BoardInterceptor" id="BoardInterceptor" />
		</interceptor>
		
		<!-- 구단 게시글 소유지 확인 -->
		<interceptor>
			<mapping path="/modify.tm" />
			<mapping path="/delete.tm" />
			<beans:bean class="com.kh.sportsmate.common.intercepter.TeamBoardTwoInterceptor" id="TeamBoardTwoInterceptor" />
		</interceptor>
		
        <!-- 관리자 관련 -->
        <interceptor>
            <mapping path="/adminPage.me"/>
            <mapping path="/adminReport.me"/>
            <mapping path="/blockList.me"/>
            <mapping path="/blockUser.me"/>
            <mapping path="/blockCancle.me"/>
            <mapping path="/unblockUser.me"/>
            <beans:bean class="com.kh.sportsmate.common.intercepter.AdminInterceptor" id="AdminIntercepter"/>
        </interceptor>
    </interceptors>

</beans:beans>
